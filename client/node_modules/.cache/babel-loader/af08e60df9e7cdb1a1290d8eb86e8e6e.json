{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\615903\\\\Documents\\\\SG_Portal\\\\client\\\\src\\\\components\\\\Documents.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport NavBar from \"./NavBar\";\nimport Stages from \"./Stages\";\nimport HelpIcon from \"./HelpIcon\";\nimport VerifyModal from \"./VerifyModal\";\nimport { Document, Page } from 'react-pdf'; //import myFile from \"../uploads/Jackson.JPG\"\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Documents = ({\n  setAuth\n}) => {\n  _s();\n\n  const [fileData, setFileData] = useState();\n  const [userId, setUserId] = useState(\"\");\n\n  const getProfile = async () => {\n    try {\n      const res = await fetch(\"http://localhost:5000/dashboard/\", {\n        method: \"GET\",\n        headers: {\n          jwt_token: localStorage.token\n        }\n      });\n      const parseData = await res.json();\n      setUserId(parseData.user_id);\n    } catch (err) {\n      console.error(err.message);\n    }\n  };\n\n  useEffect(() => {\n    getProfile();\n  }, []);\n\n  const fileChangeHandler = e => {\n    setFileData(e.target.files[0]);\n  };\n\n  const onSubmitHandler = e => {\n    e.preventDefault(); //const temp = JSON.stringify(userId);\n    // handle file data from the stat before sending\n    // sets \"data\" to the same data type that multer uses\n\n    const data = new FormData();\n    data.append('upload', fileData); // fileData comes from stat which comes from submit handler\n\n    fetch(\"http://localhost:5000/dashboard/documents\", {\n      method: \"POST\",\n      body: data,\n      headers: {\n        user_id: JSON.stringify(userId)\n      }\n    }).then(result => {\n      console.log(\"File Sent Successful\");\n    }).catch(err => {\n      console.log(err.message);\n    });\n    setFileData(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(VerifyModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(NavBar, {\n      setAuth: setAuth\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Stages, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"welcomeDoc\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Steps to Complete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"steps\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-left\",\n        children: \"Verify Identity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        class: \"btn btn-primary btn-right\",\n        \"data-bs-toggle\": \"modal\",\n        \"data-bs-target\": \"#staticBackdrop\",\n        children: \"Start\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      size: \"4\",\n      width: \"75%\",\n      color: \"black\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"steps\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-left\",\n        children: \"Electronic Disbursement\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        class: \"btn btn-warning btn-right\",\n        \"data-bs-toggle\": \"modal\",\n        \"data-bs-target\": \"#staticBackdrop\",\n        children: \"Continue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n      size: \"4\",\n      width: \"75%\",\n      color: \"black\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"welcomeDoc\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Document Upload\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"black\",\n      children: \"Required documents will be communicated through inbox\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      class: \"input-group mb-3\",\n      onSubmit: onSubmitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        class: \"form-control\",\n        id: \"inputGroupFile01\",\n        onChange: fileChangeHandler\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"subDocument\",\n        children: \"Upload File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(HelpIcon, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Documents, \"PEr3kKrphs9Ca3UJNN37ABsFrzo=\");\n\n_c = Documents;\nexport default Documents;\n\nvar _c;\n\n$RefreshReg$(_c, \"Documents\");","map":{"version":3,"sources":["C:/Users/615903/Documents/SG_Portal/client/src/components/Documents.js"],"names":["React","useState","useEffect","NavBar","Stages","HelpIcon","VerifyModal","Document","Page","Documents","setAuth","fileData","setFileData","userId","setUserId","getProfile","res","fetch","method","headers","jwt_token","localStorage","token","parseData","json","user_id","err","console","error","message","fileChangeHandler","e","target","files","onSubmitHandler","preventDefault","data","FormData","append","body","JSON","stringify","then","result","log","catch"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,QAAT,EAAmBC,IAAnB,QAA+B,WAA/B,C,CACA;;;;AAEA,MAAMC,SAAS,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAiB;AAAA;;AAC/B,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,EAAxC;AACA,QAAM,CAACY,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,EAAD,CAApC;;AAEA,QAAMc,UAAU,GAAG,YAAY;AACzB,QAAI;AACF,YAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,kCAAD,EAAqC;AAC1DC,QAAAA,MAAM,EAAE,KADkD;AAE1DC,QAAAA,OAAO,EAAE;AAAEC,UAAAA,SAAS,EAAEC,YAAY,CAACC;AAA1B;AAFiD,OAArC,CAAvB;AAIA,YAAMC,SAAS,GAAG,MAAMP,GAAG,CAACQ,IAAJ,EAAxB;AACAV,MAAAA,SAAS,CAACS,SAAS,CAACE,OAAX,CAAT;AACD,KAPD,CAOE,OAAOC,GAAP,EAAY;AACZC,MAAAA,OAAO,CAACC,KAAR,CAAcF,GAAG,CAACG,OAAlB;AACD;AACN,GAXD;;AAaA3B,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,UAAU;AACX,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMe,iBAAiB,GAAIC,CAAD,IAAO;AAC7BnB,IAAAA,WAAW,CAACmB,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAX;AACH,GAFD;;AAIA,QAAMC,eAAe,GAAIH,CAAD,IAAO;AAC3BA,IAAAA,CAAC,CAACI,cAAF,GAD2B,CAE3B;AACA;AACA;;AACA,UAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACAD,IAAAA,IAAI,CAACE,MAAL,CAAY,QAAZ,EAAsB3B,QAAtB,EAN2B,CAMK;;AAEhCM,IAAAA,KAAK,CAAC,2CAAD,EAA8C;AAC/CC,MAAAA,MAAM,EAAC,MADwC;AAE/CqB,MAAAA,IAAI,EAAEH,IAFyC;AAG/CjB,MAAAA,OAAO,EAAE;AAACM,QAAAA,OAAO,EAAEe,IAAI,CAACC,SAAL,CAAe5B,MAAf;AAAV;AAHsC,KAA9C,CAAL,CAKC6B,IALD,CAKOC,MAAD,IAAY;AACdhB,MAAAA,OAAO,CAACiB,GAAR,CAAY,sBAAZ;AACH,KAPD,EAQCC,KARD,CAQQnB,GAAD,IAAS;AACZC,MAAAA,OAAO,CAACiB,GAAR,CAAYlB,GAAG,CAACG,OAAhB;AACH,KAVD;AAWAjB,IAAAA,WAAW,CAAC,IAAD,CAAX;AACH,GApBD;;AAsBA,sBACI;AAAA,4BACI,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,MAAD;AAAQ,MAAA,OAAO,EAAEF;AAAjB;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YAHJ,eAII;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA,6BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAJJ,eAOI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,8BACI;AAAG,QAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,KAAK,EAAC,2BAA5B;AAAwD,0BAAe,OAAvE;AAA+E,0BAAe,iBAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAPJ,eAaI;AAAI,MAAA,IAAI,EAAC,GAAT;AAAa,MAAA,KAAK,EAAC,KAAnB;AAAyB,MAAA,KAAK,EAAC;AAA/B;AAAA;AAAA;AAAA;AAAA,YAbJ,eAcI;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA,8BACI;AAAG,QAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,KAAK,EAAC,2BAA5B;AAAwD,0BAAe,OAAvE;AAA+E,0BAAe,iBAA9F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAdJ,eAoBI;AAAI,MAAA,IAAI,EAAC,GAAT;AAAa,MAAA,KAAK,EAAC,KAAnB;AAAyB,MAAA,KAAK,EAAC;AAA/B;AAAA;AAAA;AAAA;AAAA,YApBJ,eAsBI;AAAA;AAAA;AAAA;AAAA,YAtBJ,eAuBI;AAAK,MAAA,KAAK,EAAC,YAAX;AAAA,6BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAvBJ,eA0BI;AAAG,MAAA,SAAS,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YA1BJ,eA2BI;AAAM,MAAA,KAAK,EAAC,kBAAZ;AAA+B,MAAA,QAAQ,EAAEwB,eAAzC;AAAA,8BACA;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,KAAK,EAAC,cAFV;AAGI,QAAA,EAAE,EAAC,kBAHP;AAII,QAAA,QAAQ,EAAEJ;AAJd;AAAA;AAAA;AAAA;AAAA,cADA,eAOA;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,aAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPA;AAAA;AAAA;AAAA;AAAA;AAAA,YA3BJ,eAsCI,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,YAtCJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA2CH,CA1FD;;GAAMrB,S;;KAAAA,S;AA4FN,eAAeA,SAAf","sourcesContent":["import React, {useState, useEffect} from \"react\"\r\nimport NavBar from \"./NavBar\";\r\nimport Stages from \"./Stages\";\r\nimport HelpIcon from \"./HelpIcon\";\r\nimport VerifyModal from \"./VerifyModal\";\r\nimport { Document, Page } from 'react-pdf';\r\n//import myFile from \"../uploads/Jackson.JPG\"\r\n\r\nconst Documents = ({ setAuth }) => {\r\n    const [fileData, setFileData] = useState();\r\n    const [userId, setUserId] = useState(\"\");\r\n\r\n    const getProfile = async () => {\r\n          try {\r\n            const res = await fetch(\"http://localhost:5000/dashboard/\", {\r\n              method: \"GET\",\r\n              headers: { jwt_token: localStorage.token }\r\n          });\r\n            const parseData = await res.json();\r\n            setUserId(parseData.user_id);\r\n          } catch (err) {\r\n            console.error(err.message);\r\n          }\r\n    };\r\n \r\n    useEffect(() => {\r\n      getProfile();\r\n    }, []);\r\n\r\n    const fileChangeHandler = (e) => {\r\n        setFileData(e.target.files[0]);\r\n    };\r\n\r\n    const onSubmitHandler = (e) => {\r\n        e.preventDefault();\r\n        //const temp = JSON.stringify(userId);\r\n        // handle file data from the stat before sending\r\n        // sets \"data\" to the same data type that multer uses\r\n        const data = new FormData();\r\n        data.append('upload', fileData) // fileData comes from stat which comes from submit handler\r\n\r\n        fetch(\"http://localhost:5000/dashboard/documents\", {\r\n            method:\"POST\",\r\n            body: data,\r\n            headers: {user_id: JSON.stringify(userId)},\r\n        })\r\n        .then((result) => {\r\n            console.log(\"File Sent Successful\");\r\n        })\r\n        .catch((err) => {\r\n            console.log(err.message);\r\n        });\r\n        setFileData(null);\r\n    };\r\n\r\n    return(\r\n        <div>\r\n            <VerifyModal/>\r\n            <NavBar setAuth={setAuth}/>\r\n            <Stages/>\r\n            <div class=\"welcomeDoc\">\r\n                <h2>Steps to Complete</h2>\r\n            </div>\r\n            <div className=\"steps\">\r\n                <p className=\"text-left\">Verify Identity</p>\r\n                <button type=\"button\" class=\"btn btn-primary btn-right\" data-bs-toggle=\"modal\" data-bs-target=\"#staticBackdrop\">\r\n                    Start\r\n                </button>\r\n            </div>\r\n            <hr size=\"4\" width=\"75%\" color=\"black\"/>\r\n            <div className=\"steps\">\r\n                <p className=\"text-left\">Electronic Disbursement</p>\r\n                <button type=\"button\" class=\"btn btn-warning btn-right\" data-bs-toggle=\"modal\" data-bs-target=\"#staticBackdrop\">\r\n                    Continue\r\n                </button>\r\n            </div>\r\n            <hr size=\"4\" width=\"75%\" color=\"black\"/>\r\n\r\n            <br/>\r\n            <div class=\"welcomeDoc\">\r\n                <h2>Document Upload</h2>\r\n            </div>\r\n            <p className=\"black\">Required documents will be communicated through inbox</p>\r\n            <form class=\"input-group mb-3\" onSubmit={onSubmitHandler}>\r\n            <input \r\n                type=\"file\" \r\n                class=\"form-control\" \r\n                id=\"inputGroupFile01\"  \r\n                onChange={fileChangeHandler}\r\n            />\r\n            <button type=\"submit\" className=\"subDocument\">\r\n                Upload File\r\n            </button>\r\n            </form>\r\n            <HelpIcon/>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Documents;"]},"metadata":{},"sourceType":"module"}